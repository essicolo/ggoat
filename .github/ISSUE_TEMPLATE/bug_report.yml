name: üêõ Bug Report
description: Report a bug or unexpected behavior in ggoat
title: "[Bug]: "
labels: ["bug", "needs-triage"]
assignees: []

body:
  - type: markdown
    attributes:
      value: |
        Thanks for taking the time to report a bug! üêê
        
        Please fill out this form to help us reproduce and fix the issue.

  - type: checkboxes
    id: checks
    attributes:
      label: Pre-submission checks
      description: Please verify these items before submitting
      options:
        - label: I have searched the existing issues to make sure this bug hasn't been reported
          required: true
        - label: I have read the documentation and confirmed this is unexpected behavior
          required: true
        - label: I can reproduce this bug consistently
          required: true

  - type: dropdown
    id: environment
    attributes:
      label: Environment
      description: Where are you running ggoat?
      options:
        - Standard Python environment
        - Jupyter Notebook
        - JupyterLab
        - Google Colab
        - Pyodide/WebAssembly
        - JupyterLite
        - Other (specify in description)
    validations:
      required: true

  - type: input
    id: version
    attributes:
      label: ggoat version
      description: What version of ggoat are you using?
      placeholder: "e.g., 0.1.0"
    validations:
      required: true

  - type: input
    id: python-version
    attributes:
      label: Python version
      description: What version of Python are you using?
      placeholder: "e.g., 3.11.0"
    validations:
      required: true

  - type: textarea
    id: description
    attributes:
      label: Bug description
      description: A clear and concise description of what the bug is
      placeholder: Describe what happened and what you expected to happen
    validations:
      required: true

  - type: textarea
    id: reproduction
    attributes:
      label: Steps to reproduce
      description: Minimal code example to reproduce the bug
      placeholder: |
        ```python
        from ggoat import ggplot, aes
        
        data = {'x': [1, 2, 3], 'y': [4, 5, 6]}
        plot = ggplot(data, aes(x='x', y='y')).geom_point()
        plot.show()  # This causes the error
        ```
      render: python
    validations:
      required: true

  - type: textarea
    id: error
    attributes:
      label: Error message
      description: Full error message or traceback if applicable
      placeholder: |
        Traceback (most recent call last):
          File "example.py", line 4, in <module>
            plot.show()
        AttributeError: ...
      render: shell

  - type: textarea
    id: expected
    attributes:
      label: Expected behavior
      description: What did you expect to happen?
      placeholder: The plot should display without errors

  - type: textarea
    id: actual
    attributes:
      label: Actual behavior
      description: What actually happened?
      placeholder: An error was thrown instead of displaying the plot

  - type: dropdown
    id: optional-deps
    attributes:
      label: Optional dependencies
      description: Which optional dependencies do you have installed?
      multiple: true
      options:
        - pandas
        - numpy
        - lets-plot
        - jupyter/ipython
        - None

  - type: textarea
    id: additional
    attributes:
      label: Additional context
      description: Any additional information that might be helpful
      placeholder: Browser version, operating system, screenshots, etc.